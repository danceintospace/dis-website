<nav class="navbar p-2 bg-white px-0 lg:px-8 fixed top-0 w-full transition duration-300" style="z-index: 1000;">
  <div class="container mx-auto md:flex items-center justify-between">
    <div class="flex items-center justify-between md:w-auto w-full">
      <!-- Logo -->
      <div class="flex items-center">
        <%= link_to root_path do %>
          <%= image_tag("logo.jpeg", alt: "Logo", class: "rounded-l w-48 h-auto") %>
        <% end %>
      </div>
      <!-- Mobile Menu Button -->
      <div class="md:hidden flex items-center mr-6">
        <button class="mobile-menu-button">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24">
            <title>bars-3-bottom-left</title>
            <g fill="none">
              <path d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </g>
          </svg>
        </button>
      </div>
    </div>
    <!-- Primary Navigation -->
    <div class="hidden md:flex md:flex-row flex-col items-center justify-start md:space-x-1 navigation-menu pb-3 md:pb-0 navigation-menu shadow-lg md:shadow-none" style="font-size: 0.875rem;">
      <a href="#" class="py-2 px-3 block">
        <%= link_to "Blog", blog_posts_path, class: "ml-4 px-2 py-1 hover:bg-customGray rounded", style: "text-decoration: none;" %>
      </a>
      <a href="#" class="py-2 px-3 block">
        <%= link_to "Tours", tours_path, class: "ml-4 px-2 py-1 hover:bg-customGray rounded", style: "text-decoration: none;" %>
      </a>
      <a href="#" class="py-2 px-3 block">
        <%= link_to "FAQs", root_path(anchor:"faqs-section"), class: "ml-4 px-2 py-1 hover:bg-customGray rounded", style: "text-decoration: none;" %>
      </a>
      <a href="#" class="py-2 px-3 block">
        <%= link_to "Gallery", root_path(anchor:"#"), class: "ml-4 px-2 py-1 hover:bg-customGray rounded", style: "text-decoration: none;" %>
      </a>
      <div class="py-2 px-3 block">
        <div%= link_to "Contact", root_path(anchor:"contact-section"), style: "text-decoration: none;" %>
      </div>
      <a href="#" class="block">
        <%= button_to "DONATE", destroy_user_session_path, method: :delete, class: "bg-customGray text-black px-2 py-2 rounded hover:bg-customBlue hover:text-white ml-6" %>
      </a>
      <a href="#" class="py-2 px-3 block">
        <%= link_to "Contact", root_path(anchor:"contact-section"), class: "ml-4 px-3 py-2 hover:bg-customGray rounded", style: "text-decoration: none;" %>
      </a>
    </div>
    </div>
</nav>

<script>
  document.addEventListener("DOMContentLoaded", () => {
  // Select all dropdown toggle buttons
  const dropdownToggles = document.querySelectorAll(".dropdown-toggle")

  dropdownToggles.forEach((toggle) => {
    toggle.addEventListener("click", () => {
      // Find the next sibling element which is the dropdown menu
      const dropdownMenu = toggle.nextElementSibling

      // Toggle the 'hidden' class to show or hide the dropdown menu
      if (dropdownMenu.classList.contains("hidden")) {
        // Hide any open dropdown menus before showing the new one
        document.querySelectorAll(".dropdown-menu").forEach((menu) => {
          menu.classList.add("hidden")
        })

        dropdownMenu.classList.remove("hidden")
      } else {
        dropdownMenu.classList.add("hidden")
      }
    })
  })

  // Optional: Clicking outside of an open dropdown menu closes it
  window.addEventListener("click", (event) => {
    if (!event.target.matches(".dropdown-toggle")) {
      document.querySelectorAll(".dropdown-menu").forEach((menu) => {
        if (!menu.contains(event.target)) {
          menu.classList.add("hidden")
        }
      })
    }
  })
})

// Mobile menu toggle
const mobileMenuButton = document.querySelector(".mobile-menu-button")
  const mobileMenu = document.querySelector(".navigation-menu")

  mobileMenuButton.addEventListener("click", () => {
    mobileMenu.classList.toggle("hidden")
  })
</script>